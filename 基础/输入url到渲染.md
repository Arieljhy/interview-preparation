#### 浏览器在输入url到渲染，中间发生了什么
输入URL → DNS解析 → TCP连接 → HTTP请求 → 服务器处理 → HTTP响应 → 
浏览器解析 → 构建DOM树 → 构建CSSOM树 → 构建渲染树 → 布局 → 绘制 → 合成

`DNS解析流程：浏览器缓存 → 系统缓存 → 路由器缓存 → ISP DNS缓存 → 递归查询`

` 浏览器渲染引擎工作流程: 
1）解析HTML，构建DOM树 
2）解析CSS，构建CSSOM树
3）执行JavaScript（可能阻塞解析）
4）构建渲染树（Render Tree）
5）布局（Layout/Reflow）
6）绘制（Paint）
7）合成（Compositing）`

#### 讲一讲浏览器渲染过程中的合成阶段
图层收集与排序
生成合成树
计算图层的合成属性
提交给GPU进行合成
显示最终图像

#### 浏览器渲染管线
`解析 (Parsing):` 
- 浏览器解析 HTML 生成 DOM 树。
- 解析 CSS（包括内联、外部和样式表）生成 CSSOM 树。

`样式计算 (Style Calculation):`
- 将 DOM 和 CSSOM 合并成一棵 渲染树，这棵树只包含可见的节点及其计算后的样式。

`布局 / 重排 (Layout / Reflow):`
- 计算渲染树中每个节点的几何信息（位置、尺寸）。这个过程就是“布局”。
- 重排 就是指当元素的几何属性（如宽、高、位置）发生变化时，浏览器需要重新计算布局的过程。
- 触发重排的操作：改变窗口大小、改变字体、添加/删除元素、修改元素尺寸/位置（如 width, height, margin, padding, left, top 等）。

`绘制 / 重绘 (Paint / Repaint):`
- 将布局计算后的每个节点转换为屏幕上的实际像素。这个过程包括填充颜色、图片、边框、阴影等。
- 重绘 是指当元素的外观发生改变，但不影响其布局时（例如改变 background-color, visibility, outline），浏览器需要重新绘制元素的过程。
- 注意：重绘不一定导致重排，但重排一定会触发重绘。

`合成 (Composition):`

- 这是最后一步。浏览器会将页面分解成多个图层。一些特定的样式（如 transform, opacity）会提示浏览器为该元素创建一个独立的“合成层”。
- 合成阶段的工作是将这些图层光栅化（转换为位图），并由GPU最终将它们合并成一幅完整的图像，显示在屏幕上。
- 这个阶段的工作是独立于主线程的，因此效率非常高。